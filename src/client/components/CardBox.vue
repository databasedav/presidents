<template>
  <div>
    <br>
      <span 
        v-if='current_hand_str.length === 0 || current_hand_str === ": empty hand"'
      >
        Click on cards to add them to your current hand!
      </span>

      <span
        v-else
      >
        {{ current_hand_str }}
      </span>

    <br>
    <br>

    <Card
      v-for='card in this.cards'
      :key='card'
      :card='card'
      :is_selected='cards_selected_arr[card]'
      @card_click='$emit("card_click", $event)'
      :namespace='namespace'
    ></Card>
  </div>
</template>

<script>
// @card_click='$emit("card_click", $event)'
import io from 'socket.io-client'
import Card from './Card.vue'
import { mapState } from 'vuex'

import { namespaced_getter } from '../utils/utils'

export default {

  name: 'CardBox',

  components: {
    Card
  },

  props: {
    namespace: String
  },

  computed: {
    // ...mapState(this.namespace, {
    //   cards: state => state.cards_arr,
    //   cards_selected: state => state.cards_selected,
    //   current_hand_str: state => state.current_hand_str
    // })

    cards () {
      return this.$store.state[this.namespace].cards_arr
    },

    cards_selected_arr () {
      return this.$store.state[this.namespace].cards_selected_arr
    },

    current_hand_str () {
      return this.$store.state[this.namespace].current_hand_str
    },
  }
}
</script>
